import{u as f,j as e}from"./index-vf-FusUw.js";import{r as a}from"./vendor-CK5te7td.js";import{C as b}from"./Card-CM_XbZqY.js";import{S as j,C as k}from"./CategoryFilter-hrwW-z1S.js";import{H as w}from"./Header-lC0Lw9Lj.js";import"./useBookmarks-7D6JGkQb.js";const C=[{id:"default",label:"Default"},{id:"name",label:"Aâ€“Z"},{id:"category",label:"Category"}];function M(){const[o,m]=a.useState(""),[l,h]=a.useState("all"),[i,u]=a.useState("default"),[y,c]=a.useState(!1),{allListings:n}=f(),d=a.useMemo(()=>{let t=[...n];if(l!=="all"&&(t=t.filter(r=>r.type===l)),o.trim()){const r=o.toLowerCase();t=t.filter(s=>{var g,x;return s.name.toLowerCase().includes(r)||s.tagline.toLowerCase().includes(r)||((g=s.category)==null?void 0:g.toLowerCase().includes(r))||((x=s.tags)==null?void 0:x.some(p=>p.toLowerCase().includes(r)))})}return i==="name"&&t.sort((r,s)=>r.name.localeCompare(s.name)),i==="category"&&t.sort((r,s)=>(r.category||"").localeCompare(s.category||"")),t},[o,l,i,n]);return e.jsxs("main",{className:"pb-nav page-enter",children:[e.jsx(w,{title:"Explore",subtitle:`${n.length} listings`,action:e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>c(t=>!t),className:"flex items-center gap-1.5 text-sm font-medium text-gray-600 dark:text-gray-400 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl px-3 py-2 active:bg-gray-50 dark:active:bg-gray-700 transition-colors",children:[e.jsx("svg",{width:"14",height:"14",fill:"none",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M3 6h18M7 12h10M11 18h2",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})}),"Sort"]}),y&&e.jsx("div",{className:"absolute right-0 top-11 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl shadow-card z-20 overflow-hidden min-w-[130px]",children:C.map(t=>e.jsx("button",{onClick:()=>{u(t.id),c(!1)},className:`w-full text-left px-4 py-3 text-sm transition-colors ${i===t.id?"text-[#5B6CF6] font-semibold bg-[#EEF0FE] dark:bg-indigo-900/30":"text-gray-700 dark:text-gray-300 active:bg-gray-50 dark:active:bg-gray-700"}`,children:t.label},t.id))})]})}),e.jsxs("div",{className:"px-4 mt-2 space-y-3",children:[e.jsx(j,{value:o,onChange:m,allItems:n}),e.jsx(k,{selected:l,onChange:h})]}),e.jsxs("section",{className:"px-4 mt-5",children:[e.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 uppercase tracking-widest font-medium mb-3",children:[d.length," result",d.length!==1?"s":""]}),d.length>0?e.jsx("div",{className:"space-y-3",children:d.map((t,r)=>e.jsx(b,{item:t,index:r},t.id))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-14 h-14 bg-gray-100 dark:bg-gray-800 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsxs("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"11",cy:"11",r:"7",stroke:"#94A3B8",strokeWidth:"1.8"}),e.jsx("path",{d:"M20 20l-3-3",stroke:"#94A3B8",strokeWidth:"1.8",strokeLinecap:"round"})]})}),e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"No results found"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Try adjusting your filters"})]})]})]})}export{M as default};
