import{j as t}from"./index-vf-FusUw.js";import{r as l,b as v}from"./vendor-CK5te7td.js";import{T as y}from"./useBookmarks-7D6JGkQb.js";function S({value:s,onChange:i,placeholder:c="Search startups, servicesâ€¦",allItems:u=[]}){const[h,d]=l.useState(!1),[x,g]=l.useState(-1),b=v(),f=l.useRef(null),k=l.useRef(null),p=h&&s.trim().length>=1,o=p?u.filter(e=>{var a;const r=s.toLowerCase();return e.name.toLowerCase().includes(r)||e.tagline.toLowerCase().includes(r)||((a=e.tags)==null?void 0:a.some(n=>n.toLowerCase().includes(r)))}).slice(0,3):[],m=e=>{i(""),d(!1),b(`/item/${e.id}`)},w=e=>{o.length&&(e.key==="ArrowDown"&&(e.preventDefault(),g(r=>Math.min(r+1,o.length-1))),e.key==="ArrowUp"&&(e.preventDefault(),g(r=>Math.max(r-1,-1))),e.key==="Enter"&&x>=0&&(e.preventDefault(),m(o[x])),e.key==="Escape"&&(d(!1),g(-1)))};return l.useEffect(()=>{g(-1)},[s]),l.useEffect(()=>{const e=r=>{var a,n;(n=(a=f.current)==null?void 0:a.closest(".search-wrapper"))!=null&&n.contains(r.target)||d(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),t.jsxs("div",{className:"search-wrapper relative",children:[t.jsx("span",{className:"absolute left-3.5 top-1/2 -translate-y-1/2 pointer-events-none z-10",children:t.jsxs("svg",{width:"17",height:"17",fill:"none",viewBox:"0 0 24 24",children:[t.jsx("circle",{cx:"11",cy:"11",r:"7",stroke:"#94A3B8",strokeWidth:"1.8"}),t.jsx("path",{d:"M20 20l-3-3",stroke:"#94A3B8",strokeWidth:"1.8",strokeLinecap:"round"})]})}),t.jsx("input",{ref:f,type:"search",value:s,onChange:e=>i(e.target.value),onFocus:()=>d(!0),onKeyDown:w,placeholder:c,className:"w-full bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl pl-10 pr-4 py-3 text-sm text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500 outline-none focus:border-[#5B6CF6] focus:ring-2 focus:ring-[#5B6CF6]/10 transition-colors"}),s&&t.jsx("button",{onClick:()=>{var e;i(""),(e=f.current)==null||e.focus()},className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-gray-400 active:text-gray-600","aria-label":"Clear",children:t.jsx("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 24 24",children:t.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),p&&o.length>0&&t.jsx("div",{ref:k,className:"absolute top-full left-0 right-0 mt-1.5 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl shadow-card z-30 overflow-hidden",children:o.map((e,r)=>{const a=y[e.type]||y.startup;return t.jsxs("button",{onMouseDown:n=>{n.preventDefault(),m(e)},className:`w-full flex items-center gap-3 px-4 py-3 text-left transition-colors ${x===r?"bg-gray-50 dark:bg-gray-700":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,children:[t.jsx("span",{className:"text-lg leading-none flex-shrink-0",children:e.emoji}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.name}),t.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 truncate",children:e.tagline})]}),t.jsx("span",{className:`chip flex-shrink-0 ${a.bg} ${a.text}`,children:a.label})]},e.id)})}),p&&s.trim().length>=2&&o.length===0&&t.jsx("div",{className:"absolute top-full left-0 right-0 mt-1.5 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-xl shadow-card z-30 px-4 py-3",children:t.jsxs("p",{className:"text-sm text-gray-400 dark:text-gray-500",children:['No matches for "',s,'"']})})]})}const j=[{id:"all",label:"All"},{id:"startup",label:"Startups"},{id:"service",label:"Services"},{id:"resource",label:"Resources"}];function L({selected:s,onChange:i}){return t.jsx("div",{className:"flex gap-2 overflow-x-auto scrollbar-hide px-4 -mx-4",children:j.map(({id:c,label:u})=>{const h=s===c;return t.jsx("button",{onClick:()=>i(c),className:`flex-shrink-0 text-sm font-medium rounded-full px-4 py-2 transition-all duration-200 ${h?"bg-[#5B6CF6] text-white shadow-sm scale-[1.04]":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border border-gray-200 dark:border-gray-700 active:scale-[0.97]"}`,children:u},c)})})}export{L as C,S};
