import{u as b,j as e}from"./index-vf-FusUw.js";import{r as n,b as N}from"./vendor-CK5te7td.js";import{C as o}from"./Card-CM_XbZqY.js";import{S as v,C as w}from"./CategoryFilter-hrwW-z1S.js";import{u as k}from"./useRecentlyViewed-CqK5mP1y.js";import"./useBookmarks-7D6JGkQb.js";function C(){const a=new Date().getHours();return a<12?"Good morning":a<17?"Good afternoon":"Good evening"}const L=["s1","sv1","r2"];function G(){const[a,u]=n.useState(""),[i,p]=n.useState("all"),d=N(),{allListings:r}=b(),{recent:x}=k(),m=n.useMemo(()=>x.map(s=>r.find(t=>t.id===s)).filter(Boolean),[x,r]),f=n.useMemo(()=>r.filter(s=>L.includes(s.id)),[r]),l=n.useMemo(()=>{let s=r;if(i!=="all"&&(s=s.filter(t=>t.type===i)),a.trim()){const t=a.toLowerCase();s=s.filter(c=>{var h,g;return c.name.toLowerCase().includes(t)||c.tagline.toLowerCase().includes(t)||((h=c.category)==null?void 0:h.toLowerCase().includes(t))||((g=c.tags)==null?void 0:g.some(y=>y.toLowerCase().includes(t)))})}return s},[i,a,r]),j=a.trim()||i!=="all";return e.jsxs("main",{className:"pb-nav page-enter",children:[e.jsxs("div",{className:"px-4 pt-5 pb-1",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:C()}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mt-0.5",children:"Launchbase"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-0.5",children:"Discover what's being built"})]}),e.jsx("div",{className:"px-4 mt-4",children:e.jsx(v,{value:a,onChange:u,allItems:r})}),e.jsx("div",{className:"mt-3 px-4",children:e.jsx(w,{selected:i,onChange:p})}),j?e.jsxs("section",{className:"px-4 mt-5",children:[e.jsxs("p",{className:"text-xs text-gray-400 dark:text-gray-500 uppercase tracking-widest font-medium mb-3",children:[l.length," result",l.length!==1?"s":""]}),l.length>0?e.jsx("div",{className:"space-y-3",children:l.map((s,t)=>e.jsx(o,{item:s,index:t},s.id))}):e.jsx(S,{})]}):e.jsxs(e.Fragment,{children:[m.length>0&&e.jsxs("section",{className:"mt-5",children:[e.jsx("div",{className:"flex items-center justify-between px-4 mb-3",children:e.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Recently viewed"})}),e.jsx("div",{className:"flex gap-3 overflow-x-auto scrollbar-hide px-4 pb-1",children:m.map((s,t)=>e.jsx("div",{className:"w-56 flex-shrink-0",children:e.jsx(o,{item:s,index:t})},s.id))})]}),e.jsxs("section",{className:"mt-5",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 mb-3",children:[e.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:"Featured"}),e.jsx("button",{onClick:()=>d("/explore"),className:"text-xs font-medium text-[#5B6CF6]",children:"See all â†’"})]}),e.jsx("div",{className:"flex gap-3 overflow-x-auto scrollbar-hide px-4 pb-1",children:f.map((s,t)=>e.jsx("div",{className:"w-64 flex-shrink-0",children:e.jsx(o,{item:s,index:t})},s.id))})]}),e.jsxs("section",{className:"px-4 mt-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsx("h2",{className:"font-semibold text-gray-900 dark:text-white",children:"Recent Listings"})}),e.jsx("div",{className:"space-y-3",children:r.slice(0,6).map((s,t)=>e.jsx(o,{item:s,index:t},s.id))}),e.jsx("button",{onClick:()=>d("/explore"),className:"w-full mt-4 py-3.5 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl text-sm font-semibold text-gray-700 dark:text-gray-300 active:bg-gray-50 dark:active:bg-gray-700 transition-colors",children:"View all listings"})]})]})]})}function S(){return e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-14 h-14 bg-gray-100 dark:bg-gray-800 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsxs("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{cx:"11",cy:"11",r:"7",stroke:"#94A3B8",strokeWidth:"1.8"}),e.jsx("path",{d:"M20 20l-3-3",stroke:"#94A3B8",strokeWidth:"1.8",strokeLinecap:"round"})]})}),e.jsx("p",{className:"font-semibold text-gray-700 dark:text-gray-300",children:"Nothing found"}),e.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-1",children:"Try a different search or category"})]})}export{G as default};
